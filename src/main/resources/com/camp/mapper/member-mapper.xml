<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.camp.mapper.MemberMapper">

	<sql id="memberColumns">SELECT memberId, pwd, name, phone, addr1, addr2, addr3, type, email, regDate</sql>

	<!-- 회원가입  -->
	<insert id="registerMember" 
			parameterType="com.camp.vo.Member">
		INSERT INTO MEMBER ( MEMBERID, PWD, NAME, PHONE, EMAIL, ADDR1, ADDR2, ADDR3 )
		VALUES ( #{ memberId }, #{ pwd }, #{ name }, #{ phone }, #{ email }, #{ addr1 }, #{ addr2 }, #{ addr3 } )	
	</insert>
	
	<!-- 아이디 중복 확인 -->
	<select id="idCheck" resultType="com.camp.vo.Member">
		SELECT MEMBERID
		FROM MEMBER
		WHERE MEMBERID = #{ memberId }
	</select>
	
	

	<!-- 로그인 -->
	<select id="loginMember"
	   parameterType="hashmap" resultType="com.camp.vo.Member">
	<include refid="memberColumns"/>
	   FROM MEMBER
	   WHERE MEMBERID = #{ memberId } AND PWD = #{ pwd }
	</select>
   
   
   <!-- 아이디 찾기 -->
   <select id="idfind" parameterType="String" resultType="String">
      SELECT MEMBERID
      FROM MEMBER
      WHERE EMAIL = #{email}
   </select>

	
	
</mapper>















